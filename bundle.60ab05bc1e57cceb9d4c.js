!function(e){function t(t){for(var n,o,l=t[0],i=t[1],c=t[2],f=0,d=[];f<l.length;f++)o=l[f],a[o]&&d.push(a[o][0]),a[o]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);for(s&&s(t);d.length;)d.shift()();return u.push.apply(u,c||[]),r()}function r(){for(var e,t=0;t<u.length;t++){for(var r=u[t],n=!0,l=1;l<r.length;l++){var i=r[l];0!==a[i]&&(n=!1)}n&&(u.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},a={1:0},u=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var l=window.webpackJsonp=window.webpackJsonp||[],i=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var s=i;u.push([421,0,3]),r()}({209:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return{card:{minWidth:275,maxWidth:350,margin:"0 auto",textAlign:"center"},title:{marginBottom:16},formControl:{margin:e.spacing.unit,minWidth:"95%"},sortButton:{width:"48%",margin:e.spacing.unit+"px 2px"},searchResetButton:{width:"98%"},listItem:{textAlign:"center"}}}},302:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FETCH_DATA="FETCH_DATA",t.SEARCH="SEARCH"},421:function(e,t,r){r(422),e.exports=r(624)},624:function(e,t,r){"use strict";var n=f(r(1)),a=f(r(31)),u=r(251),o=r(136),l=f(r(686)),i=f(r(687)),c=f(r(688)),s=f(r(691));function f(e){return e&&e.__esModule?e:{default:e}}var d=(0,c.default)(),p=(0,o.createMuiTheme)({palette:{primary:l.default,secondary:i.default},status:{danger:"orange"}});!function(e){a.default.render(n.default.createElement(u.Provider,{store:d},n.default.createElement(o.MuiThemeProvider,{theme:p},n.default.createElement(e,null))),document.querySelector(".container"))}(s.default)},688:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(117),a=o(r(301)),u=o(r(689));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||n.compose;return(0,n.createStore)(u.default,e((0,n.applyMiddleware)(a.default)))}},689:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(117),a=r(690),u=(0,n.combineReducers)({data:a.dataReducer});t.default=u},690:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dataReducer=void 0;var n=r(302);t.dataReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case n.FETCH_DATA:return t.payload;default:return e}}},691:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(r(1)),a=r(252),u=l(r(692)),o=l(r(693));function l(e){return e&&e.__esModule?e:{default:e}}t.default=(0,a.compose)(u.default)(function(){return n.default.createElement(o.default,null)})},692:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(1),u=function(e){return e&&e.__esModule?e:{default:e}}(a);function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.default=function(e){return function(t){function r(){var e,t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var a=arguments.length,u=Array(a),l=0;l<a;l++)u[l]=arguments[l];return t=n=o(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(u))),n.state={error:null,errorInfo:null},o(n,t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,a.Component),n(r,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,errorInfo:t})}},{key:"render",value:function(){var t=this.state,r=t.error,n=t.errorInfo;return u.default.createElement(a.Fragment,null,r&&u.default.createElement(a.Fragment,null,u.default.createElement("h2",null,"Something went wrong."),u.default.createElement("details",{style:{whiteSpace:"pre-wrap"}},r.toString(),u.default.createElement("br",null),n.componentStack)),u.default.createElement(e,this.props))}}]),r}()}},693:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TripSorter=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(1),u=S(a),o=S(r(3)),l=r(251),i=r(252),c=r(204),s=S(r(694)),f=r(136),d=S(r(695)),p=S(r(698)),h=S(r(304)),v=S(r(701)),m=r(714),y=r(735),b=S(r(736)),_=S(r(784)),g=S(r(209));function S(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var O=t.TripSorter=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,u=Array(a),o=0;o<a;o++)u[o]=arguments[o];return r=n=E(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n.state={departure:"",arrival:"",arrivals:[],results:null,sortBy:null},n.handelDepartureSelect=function(){return function(e){var t=n.props.deals.filter(function(t){return t.departure===e.target.value}).reduce(function(e,t){return e.push(t.arrival),e},[]);n.setState({departure:e.target.value,arrivals:[].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(new Set(t)))})}},n.handleArrivalSelect=function(){return function(e){n.setState({arrival:e.target.value})}},n.handleSearch=function(){var e=n.props.deals,t=n.state,r=t.departure,a=t.arrival,u=e.filter(function(e){return e.departure===r&&e.arrival===a});n.setState({results:u})},n.handleSort=function(e){return function(){var t=n.state.results,r=void 0;switch(e){case"cost":r=s.default.sortBy(t,function(e){return e.cost-e.cost*e.discount/100});break;case"duration":r=s.default.sortBy(t,function(e){return 60*parseInt(e.duration.h,10)+parseInt(e.duration.m,10)});break;default:return}n.setState({results:r,sortBy:e})}},n.handleReset=function(){n.setState({departure:"",arrival:"",arrivals:[],results:null,sortBy:null})},E(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),n(t,[{key:"componentDidMount",value:function(){(0,this.props.fetchData)()}},{key:"render",value:function(){var e=this.props,t=e.cities,r=e.classes,n=this.state,a=n.departure,o=n.arrival,l=n.arrivals,i=n.sortBy,c=n.results,s=c?this.handleReset:this.handleSearch,f=c?"Reset":"Search",m=c?"primary":"secondary";return u.default.createElement(d.default,{className:r.card},u.default.createElement(p.default,null,u.default.createElement(h.default,{className:r.title,variant:"display3",gutterBottom:!0},"Trip Sorter"),u.default.createElement(b.default,{label:"From:",onChange:this.handelDepartureSelect(),options:t,selectedOption:a,disabled:!!c}),u.default.createElement(b.default,{label:"To:",onChange:this.handleArrivalSelect(),options:l,selectedOption:o,disabled:!!c}),u.default.createElement(v.default,{className:r.sortButton,size:"small",color:"primary",variant:"cost"===i?"contained":"outlined",onClick:this.handleSort("cost"),disabled:null===c},"Cheapest"),u.default.createElement(v.default,{className:r.sortButton,size:"small",color:"primary",variant:"duration"===i?"contained":"outlined",onClick:this.handleSort("duration"),disabled:null===c},"Fastest"),u.default.createElement("div",{className:"results"},c&&u.default.createElement(_.default,{results:c}),u.default.createElement(v.default,{className:r.searchResetButton,size:"small",color:m,variant:"contained",onClick:s},f))))}}]),t}();O.propTypes={deals:o.default.array,cities:o.default.array,fetchData:o.default.func.isRequired,classes:o.default.object.isRequired},O.defaultProps={deals:[],cities:[]};var w=(0,c.createStructuredSelector)({deals:(0,y.dealsSelector)(),cities:(0,y.citiesSelector)()});t.default=(0,i.compose)((0,l.connect)(w,{fetchData:m.fetchData}),(0,f.withStyles)(g.default))(O)},714:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchData=void 0;var n=o(r(715)),a=o(r(734)),u=r(302);function o(e){return e&&e.__esModule?e:{default:e}}var l=a.default.resolve(e,"/React-Redux-Trip-Sorter-material-ui/mockedData/response.json");t.fetchData=function(){return function(e){return n.default.get(l).then(function(t){e({type:u.FETCH_DATA,payload:t.data})}).catch(function(e){throw e})}}}).call(this,"/")},735:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.citiesSelector=t.dealsSelector=void 0;var n=r(204);var a=function(e){return e.data};t.dealsSelector=function(){return(0,n.createSelector)(a,function(e){return e.deals})},t.citiesSelector=function(){return(0,n.createSelector)(a,function(e){return e.deals&&e.deals.reduce(function(e,t){return e.push(t.departure,t.arrival),[].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(new Set(e))).sort()},[])})}},736:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Select=void 0;var n=s(r(1)),a=s(r(3)),u=r(136),o=s(r(737)),l=s(r(740)),i=s(r(744)),c=s(r(209));function s(e){return e&&e.__esModule?e:{default:e}}var f=t.Select=function(e){var t=e.label,r=e.selectedOption,a=e.onChange,u=e.options,c=e.classes,s=e.disabled;return n.default.createElement(o.default,{className:c.formControl},t&&n.default.createElement(l.default,{htmlFor:"age-native-simple"},t),n.default.createElement(i.default,{native:!0,value:r,onChange:a,disabled:s},n.default.createElement("option",{value:""}),u.map(function(e){return n.default.createElement("option",{key:e,value:e},e)})))};f.propTypes={label:a.default.string,disabled:a.default.bool,selectedOption:a.default.string,classes:a.default.object.isRequired,onChange:a.default.func.isRequired,options:a.default.array.isRequired},f.defaultProps={label:null,disabled:!1,selectedOption:""},t.default=(0,u.withStyles)(c.default)(f)},784:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResultList=void 0;var n=d(r(1)),a=d(r(3)),u=r(136),o=d(r(320)),l=d(r(785)),i=d(r(787)),c=d(r(789)),s=r(791),f=d(r(209));function d(e){return e&&e.__esModule?e:{default:e}}var p=t.ResultList=function(e){var t=e.results,r=e.classes;return n.default.createElement(o.default,null,t.map(function(e){return n.default.createElement(l.default,{className:r.listItem,key:e.reference},n.default.createElement(i.default,{primary:e.departure+" > "+e.arrival+" "+(e.cost-e.cost*e.discount/100)+"€",secondary:e.transport+" "+e.reference+" for "+e.duration.h+"h"+e.duration.m+"m"}))}),n.default.createElement(c.default,null),n.default.createElement(l.default,{className:r.listItem},n.default.createElement(i.default,{primary:"Total "+Math.trunc((0,s.getTotalTime)(t)/60)+"h"+(0,s.getTotalTime)(t)%60+"m "+(0,s.getTotalCost)(t)+"€"})))};p.propTypes={results:a.default.array,classes:a.default.object.isRequired},p.defaultProps={results:[]},t.default=(0,u.withStyles)(f.default)(p)},791:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getTotalCost=function(e){return e.reduce(function(e,t){return e+(t.cost-t.cost*t.discount/100)},0)},t.getTotalTime=function(e){return e.reduce(function(e,t){return e+(60*parseInt(t.duration.h,10)+parseInt(t.duration.m,10))},0)}}});